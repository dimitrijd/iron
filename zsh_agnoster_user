https://www.codemag.com/Article/1811021/Docker-for-Developers


RUN apt-get update && \
    apt-get install -y sudo curl git-core gnupg 
   linuxbrew-wrapper locales nodejs zsh wget nano 
    nodejs npm fonts-powerline && \
    locale-gen en_US.UTF-8 && \
    adduser --quiet --disabled-password 
    --shell /bin/zsh --home /home/devuser 
    --gecos "User" devuser && \
    echo "devuser:<a href="mailto://p@ssword1">p@ssword1</a>" | 
    chpasswd &&  usermod -aG sudo devuser

ADD scripts/installthemes.sh /home/devuser/installthemes.sh
USER devuser
ENV TERM xterm
ENV ZSH_THEME agnoster
CMD ["zsh"]

https://blog.atulr.com/docker-local-environment/

better option

# Set user and group
ARG user=appuser
ARG group=appuser
ARG uid=1000
ARG gid=1000
RUN groupadd -g ${gid} ${group}
RUN useradd -u ${uid} -g ${group} -s /bin/sh -m ${user} # <--- the '-m' create a user home directory

# Switch to user
USER ${uid}:${gid}

https://cloud.google.com/architecture/best-practices-for-building-containers
https://sysdig.com/blog/dockerfile-best-practices/
