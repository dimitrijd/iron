# #  DEVCON - **** BASE ****
#
# versioned UBUNTU base + essential PACKAGES + non-root USR_NAME
#
#
ARG UBUNTU_VERSION=18.04
FROM ubuntu:${UBUNTU_VERSION} AS devcon_ubuntu_base

ARG PACKAGES='dumb-init supervisor sudo ca-certificates apt-transport-https tzdata gnupg'
ARG USR_NAME=coder
ARG PASSWORD=pass
ARG UID=1000
ARG GID=1000
ARG SHELL /usr/bin/zsh
ARG HOME /home/$USR_NAME

RUN \
# \
# install base $PACKAGES, unpinnned versions \
# \
  apt-get update \
  && DEBIAN_FRONTEND=noninteractive \
     apt-get install -y --no-install-recommends ${PACKAGES} \
  && apt-get clean \
# \
# install user $USR_NAME $UID, $GID, make they sudoer with $PASSWORD \
# \
  && adduser --quiet --disabled-password \
     --shell $SHELL --home $HOME \
     --gecos "User" $USR_NAME 
#  && usermod -aG sudo $USR_NAME \
#  && echo $USR_NAME:$PASSWORD | chpasswd
#
# end of RUN
